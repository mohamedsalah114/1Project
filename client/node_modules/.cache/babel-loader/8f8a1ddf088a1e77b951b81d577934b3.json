{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Mohamed\\\\Desktop\\\\courses_school\\\\pro_english\\\\client\\\\src\\\\pages\\\\CoursePage.js\",\n    _s = $RefreshSig$();\n\nimport React, { useLayoutEffect, useState, useEffect } from 'react';\nimport { Col, Container, Image, Row, Card, Button, CardBody, CardTitle, CardText } from \"react-bootstrap\";\nimport { useParams } from \"react-router-dom\";\nimport { fetchOneCourse, fetchCheckTicket } from \"../http/courseAPI\";\nimport { signInToTheCourse } from \"../http/courseAPI\";\nimport { jwtDecode as jwt_decode } from 'jwt-decode';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst CoursePage = () => {\n  _s();\n\n  const [course, setCourse] = useState({});\n  const [courseBooked, setCourseBooked] = useState(false);\n  const {\n    id\n  } = useParams();\n  const descriptionStyle = {\n    color: '#333',\n    fontSize: '18px',\n    fontFamily: 'Helvetica Neue\", Helvetica, Arial, sans-serif',\n    lineHeight: '1.6',\n    backgroundColor: 'teal',\n    padding: '20px',\n    margin: '20px auto',\n    maxWidth: '800px',\n    borderRadius: '10px',\n    boxShadow: '0 4px 12px rgba(0, 0, 0, 0.1)',\n    textAlign: 'left'\n  };\n  useEffect(() => {\n    let token = localStorage.getItem('token');\n    let userId = jwt_decode(token).id;\n    let courseId = course.id;\n    let isBooked = fetchCheckTicket(userId, courseId).then(data => setCourseBooked(data.data));\n    console.log(isBooked);\n  }, [courseBooked]);\n  useLayoutEffect(() => {\n    fetchOneCourse(id).then(data => setCourse(data[0]));\n  }, [id]);\n\n  const signIn = () => {\n    let token = localStorage.getItem('token');\n    let userId = jwt_decode(token).id;\n    let courseId = course.id;\n    let ids = {\n      'studentId': userId,\n      'courseId': courseId,\n      'teacherId': 1\n    };\n    signInToTheCourse(ids).then(data => alert('Вы записались на курс'));\n    setCourseBooked(true);\n  };\n\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: /*#__PURE__*/_jsxDEV(Row, {\n      className: \"mt-3\",\n      children: [/*#__PURE__*/_jsxDEV(Col, {\n        md: 6,\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            fontFamily: 'sans - serif',\n            fontSize: '20px'\n          },\n          children: [\"Course: \", course.teacherName]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: course.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Image, {\n          src: process.env.REACT_APP_API_URL + course.img,\n          style: {\n            backgroundSize: \"cover\",\n            width: '400px',\n            borderRadius: '15px'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        md: 3,\n        style: descriptionStyle,\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          style: {\n            fontFamily: 'sans - serif'\n          },\n          children: \"Description\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            fontFamily: 'sans - serif'\n          },\n          children: course.description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Row, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Card, {\n        style: {\n          color: 'black',\n          backgroundColor: 'teal'\n        },\n        children: /*#__PURE__*/_jsxDEV(CardBody, {\n          children: [/*#__PURE__*/_jsxDEV(CardTitle, {\n            children: \"sing in to the cousre.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(CardText, {\n            children: \"start a new journy learning a new language.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"primary\",\n            onClick: signIn,\n            disabled: courseBooked,\n            children: \"\\u043E\\u0441\\u0442\\u0430\\u0432\\u0438\\u0442\\u044C \\u0437\\u0430\\u044F\\u0432\\u043A\\u0443\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 9\n  }, this);\n};\n\n_s(CoursePage, \"yrGQx/wLaqM856TkEYIn64kvxXs=\", false, function () {\n  return [useParams];\n});\n\n_c = CoursePage;\nexport default CoursePage;\n\nvar _c;\n\n$RefreshReg$(_c, \"CoursePage\");","map":{"version":3,"names":["React","useLayoutEffect","useState","useEffect","Col","Container","Image","Row","Card","Button","CardBody","CardTitle","CardText","useParams","fetchOneCourse","fetchCheckTicket","signInToTheCourse","jwtDecode","jwt_decode","CoursePage","course","setCourse","courseBooked","setCourseBooked","id","descriptionStyle","color","fontSize","fontFamily","lineHeight","backgroundColor","padding","margin","maxWidth","borderRadius","boxShadow","textAlign","token","localStorage","getItem","userId","courseId","isBooked","then","data","console","log","signIn","ids","alert","teacherName","title","process","env","REACT_APP_API_URL","img","backgroundSize","width","description"],"sources":["C:/Users/Mohamed/Desktop/courses_school/pro_english/client/src/pages/CoursePage.js"],"sourcesContent":["import React, { useLayoutEffect, useState, useEffect } from 'react';\r\nimport { Col, Container, Image, Row, Card, Button, CardBody, CardTitle, CardText } from \"react-bootstrap\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { fetchOneCourse, fetchCheckTicket } from \"../http/courseAPI\";\r\nimport {\r\n    signInToTheCourse\r\n} from \"../http/courseAPI\";\r\nimport { jwtDecode as jwt_decode } from 'jwt-decode';\r\n\r\nconst CoursePage = () => {\r\n    const [course, setCourse] = useState({});\r\n    const [courseBooked, setCourseBooked] = useState(false);\r\n    const { id } = useParams();\r\n\r\n    const descriptionStyle = {\r\n        color: '#333',\r\n        fontSize: '18px',\r\n        fontFamily: 'Helvetica Neue\", Helvetica, Arial, sans-serif',\r\n        lineHeight: '1.6',\r\n        backgroundColor: 'teal',\r\n        padding: '20px',\r\n        margin: '20px auto',\r\n        maxWidth: '800px',\r\n        borderRadius: '10px',\r\n        boxShadow: '0 4px 12px rgba(0, 0, 0, 0.1)',\r\n        textAlign: 'left'\r\n    }\r\n\r\n    useEffect(() => {\r\n        let token = localStorage.getItem('token');\r\n        let userId = jwt_decode(token).id\r\n        let courseId = course.id\r\n        let isBooked = fetchCheckTicket(userId, courseId).then(data => setCourseBooked(data.data))\r\n        console.log(isBooked)\r\n    }, [courseBooked])\r\n\r\n    useLayoutEffect(() => {\r\n        fetchOneCourse(id).then(data => setCourse(data[0]));\r\n    }, [id]);\r\n\r\n    const signIn = () => {\r\n        let token = localStorage.getItem('token');\r\n        let userId = jwt_decode(token).id;\r\n        let courseId = course.id\r\n        let ids = {\r\n            'studentId': userId,\r\n            'courseId': courseId,\r\n            'teacherId': 1\r\n        }\r\n        signInToTheCourse(ids).then(data => alert('Вы записались на курс'));\r\n        setCourseBooked(true)\r\n    };\r\n\r\n    return (\r\n        <Container>\r\n            <Row className='mt-3'>\r\n                <Col md={6} >\r\n                    <p style={{ fontFamily: 'sans - serif', fontSize: '20px' }}>Course: {course.teacherName}</p>\r\n                    <h1>{course.title}</h1>\r\n                    <Image src={process.env.REACT_APP_API_URL + course.img}\r\n                        style={{ backgroundSize: \"cover\", width: '400px', borderRadius: '15px' }} />\r\n                </Col>\r\n                <Col md={3} style={descriptionStyle}>\r\n                    <h2 style={{ fontFamily: 'sans - serif' }}>Description</h2>\r\n                    <p style={{ fontFamily: 'sans - serif' }}>{course.description}</p>\r\n                </Col>\r\n                <Row />\r\n                <Card style={{ color: 'black', backgroundColor: 'teal' }}>\r\n                    <CardBody>\r\n                        <CardTitle>sing in to the cousre.</CardTitle>\r\n                        <CardText>start a new journy learning a new language.</CardText>\r\n                        <Button variant='primary' onClick={signIn} disabled={courseBooked}>оставить заявку</Button>\r\n                    </CardBody>\r\n                </Card>\r\n            </Row>\r\n        </Container >\r\n    );\r\n};\r\n\r\nexport default CoursePage;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}